\documentclass{stex}
\libinput{docpreamble}
\begin{document}

\begin{smodule}{Monoid}
  \symdecl*{monoid}
  \symdef{universe}{\comp{M}}
  \symdef{op}[args=2,op=\comp{\circ}]{#1 \mathbin{\comp{\circ}} #2}
  \symdef{unit}{\comp{e}}

  \usemodule[sTeX/MathBase/Functions]{mod?Function}
  \usemodule[sTeX/MathBase/Relations]{mod?Equal}
  
  \begin{definition}
    \vardef{vx}[name=x]{\comp{x}}
    A \textbf{\symname{monoid}} is a \symref{mathstruct}{structure} 
    $\mathstruct{\universe,\op!,\unit}$ with 
    $\fun{\op!}{\universe,\universe}{\universe}$, such that $\op!$ 
    is associative and $\eq{\op{\vx}{\unit},\op{\unit}{\vx},\vx}$ 
    for all $\inset{\vx}{\universe}$.
  \end{definition}
\end{smodule}

\end{document}
