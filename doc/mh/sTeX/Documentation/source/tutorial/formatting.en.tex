\documentclass[lang={en,de}]{stex}
\libinput{docpreamble}
\setsectionlevel{section}
\begin{document}
  \begin{sfragment}{Customizing Environments and Highlighting}

    \usemodule{concepts?Symbol}
    \usemodule{concepts?Module}

    \begin{sexample}
      \begin{mdframed}[linewidth=1pt,backgroundcolor=white]\small
        \hfill File \texttt{stexthm.sty}
        \lstinputlisting[language=sTeX,firstline=47,lastline=56]{stexthm.sty}
      \end{mdframed}
    \end{sexample}

    \begin{sexample}
      \begin{mdframed}[linewidth=1pt,backgroundcolor=white]\small
        \hfill File \texttt{stex-highlighting.sty}
        \lstinputlisting[language=sTeX,firstline=4,lastline=10]{stex-highlighting.sty}
        \lstinputlisting[language=sTeX,firstline=16,lastline=28]{stex-highlighting.sty}
      \end{mdframed}
    \end{sexample}
    
  \end{sfragment}
\end{document}

    