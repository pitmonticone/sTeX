\documentclass{stex}
\libinput{docpreamble}
\begin{document}

\begin{smodule}{Monoid}
  \importmodule{ex?Associative}

  \begin{mathstructure}{monoid}
    \symdef{universe}[type=\collection,op=\comp{M}_{\this}]
      {\comp{M}_{\this}}
    \symdef{op}[name=operation,
      type=\funspace{\universe,\universe}\universe,
      args=a,op=\comp{\circ}_{\this}]{#1}
      {##1 \mathbin{\comp{\circ}_{\this}} ##2}
    \symdef{unit}[type=\universe,op=\comp{e}_{\this}]
      {\comp{e}_{\this}}
  
    \begin{sdefinition}[for={monoid,op,unit}]
      \vardef{vx}[name=x]{\comp{x}}
      A \definame{monoid} is a \symref{mathstruct}{structure} 
      $\mathstruct{\universe,\op!,\unit}$ with 
      $\fun{\op!}{\universe,\universe}{\universe}$, such that 
      \inlineass[name=is_associative]{\associative{
        $\arg{\op!}$ is \comp{associative}
      }} and $\inlineass[name=unit_axiom]{
        \eq{ \op{\vx,\unit}, \op{\unit,\vx}, \vx }
      }$ 
      for all $\inset{\vx}{\universe}$.
    \end{sdefinition}
  \end{mathstructure}
\end{smodule}

\end{document}
