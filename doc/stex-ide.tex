\makeatletter
\ifcsname if@infulldoc\endcsname\else
    \expandafter\newif\csname if@infulldoc\endcsname\@infulldocfalse
\fi
\makeatother

\csname if@infulldoc\endcsname\else

\def\libfolder#1{../lib/#1}

\input{stex-docheader}

\infulldoctrue

\begin{document}
  \csname if@infulldoc\endcsname\else
	\title{
		The {\stex} VSCode IDE
		\thanks{Version {\fileversion} (last revised {\filedate})}
 	}
	\author{Michael Kohlhase, Dennis Müller\\
		FAU Erlangen-Nürnberg\\
		\url{http://kwarc.info/}
	}
	\pagenumbering{roman}
	\maketitle

  This is the user manual for the \sTeX Plugin for VSCode, available at
  \url{https://marketplace.visualstudio.com/items?itemName=kwarc.stexide}.
  For the manual for the \sTeX package itself, see \href{\basedocurl/stex-manual.pdf}{the \sTeX{}3 Manual}.
	
	\makeatletter
		\renewcommand\part{%
    		\clearpage
  			\thispagestyle{plain}%
  			\@tempswafalse
  			\null\vfil
  			\secdef\@part\@spart%
  		}
		\newcounter{chapter}
		\numberwithin{section}{chapter}
		\renewcommand\thechapter{\@arabic\c@chapter}
		\renewcommand\thesection{\thechapter.\@arabic\c@section}
		\newcommand*\chaptermark[1]{}
		\setcounter{secnumdepth}{2}
		\newcommand\@chapapp{\chaptername}
		%\newcommand\chaptername{Chapter}
  		\def\ps@headings{%
    		\let\@oddfoot\@empty
    		\def\@oddhead{{\slshape\rightmark}\hfil\thepage}%
    		\let\@mkboth\markboth
    		\def\chaptermark##1{%
      			\markright{\MakeUppercase{%
        			\ifnum \c@secnumdepth >\m@ne
            			\@chapapp\ \thechapter. \ %
        			\fi
        		##1}}%
        	}%
        }
		\newcommand\chapter{\clearpage
			\thispagestyle{plain}%
			\global\@topnum\z@
			\@afterindentfalse
			\secdef\@chapter\@schapter%
		}
		\def\@chapter[#1]#2{\refstepcounter{chapter}%
			\typeout{\@chapapp\space\thechapter.}%
			\addcontentsline{toc}{chapter}%
				{\protect\numberline{\thechapter}#1}%
			\chaptermark{#1}%
			\addtocontents{lof}{\protect\addvspace{10\p@}}%
			\addtocontents{lot}{\protect\addvspace{10\p@}}%
			\@makechapterhead{#2}%
			\@afterheading%
		}
		\def\@makechapterhead#1{%
			\vspace*{50\p@}%
			{\parindent \z@ \raggedright \normalfont
				\huge\bfseries \@chapapp\space \thechapter
				\par\nobreak
				\vskip 20\p@
				\interlinepenalty\@M
				\Huge \bfseries #1\par\nobreak
				\vskip 40\p@
			}%
		}
\newcommand*\l@chapter[2]{%
  \ifnum \c@tocdepth >\m@ne
    \addpenalty{-\@highpenalty}%
    \vskip 1.0em \@plus\p@
    \setlength\@tempdima{1.5em}%
    \begingroup
      \parindent \z@ \rightskip \@pnumwidth
      \parfillskip -\@pnumwidth
      \leavevmode \bfseries
      \advance\leftskip\@tempdima
      \hskip -\leftskip
      #1\nobreak\hfil
      \nobreak\hb@xt@\@pnumwidth{\hss #2%
                                 \kern-\p@\kern\p@}\par
      \penalty\@highpenalty
    \endgroup
  \fi}
\renewcommand*\l@section{\@dottedtocline{1}{1.5em}{2.8em}}
\renewcommand*\l@subsection{\@dottedtocline{2}{3.8em}{3.2em}}
\renewcommand*\l@subsubsection{\@dottedtocline{3}{7.0em}{4.1em}}
\def\partname{Part}
\def\toclevel@part{-1}
\def\maketitle{\chapter{\@title}}
\let\thanks\@gobble
\let\DelayPrintIndex\PrintIndex
\let\PrintIndex\@empty
\providecommand*{\hexnum}[1]{\text{\texttt{\char`\"}#1}}
\makeatother

\ExplSyntaxOn
\int_set:Nn \l_document_structure_section_level_int {1}
\ExplSyntaxOff

\clearpage

{%
  \def\\{:}% fix "newlines" in the ToC
  \tableofcontents
}

\clearpage
\pagenumbering{arabic}

\stexidetrue
	
\fi

\long\def\ignore#1{}

\begin{sfragment}{Setting up the \sTeX IDE}

  \ifstexide\input{packages/stex-mathhubsetup}\bigskip\fi


  The \sTeX IDE consists of two components using the 
  \emph{Language Server Protocol (LSP)}: A \emph{client}
  in the form of a VSCode extension, and a \emph{server}
  included in the \mmt system. Installing the extension will
  open up a setup routine that will guide you through the rest.

  \begin{sfragment}{The \sTeX VSCode Extension}

    If you have not already, you should first install the VSCode editor 
    available at \url{https://code.visualstudio.com/}.

    Next, open VSCode and install the \sTeX extension by clicking on
    the \emph{extensions} menu on the very left of the VSCode window
    and searching for ``sTeX'' in the 
    \emph{``Search Extensions in Marketplace''} field, as in
    \autoref{fig:install}, and clicking the \emph{Install}-button
    of the \sTeX extension by KWARC.

    \begin{figure}
      \begin{center}
        \includegraphics[width=0.6\textwidth]{img/vsc1.png}
      \end{center}
      \caption{Installing the \sTeX extension for VSCode}\label{fig:install}
    \end{figure}

  \end{sfragment}

  \begin{sfragment}{Setting up \mmt}

    Next, open any directory (\texttt{File $\to$ Open Folder...}) that contains
    a \verb|.tex|-file, and a setup window as in \autoref{fig:setup} 
    will pop up. Clik on the highlighted link `\emph{here}' and download
    the latest version of the \texttt{MMT.jar} file (at least version 23.0.0)
    anywhere you like. Then click the \emph{``Browse...''}-button
    and select your freshly downloaded \texttt{MMT.jar}.

    If you have already set a system variable for your MathHub-directory,
    you are now done and can click \emph{``Finish''}. If you have not,
    you can now also enter a directory path in the lower text field,
    and the VSCode extension will attempt to globally set one up
    for you, depending on your operating system.

    \begin{figure}
      \begin{center}
        \includegraphics[width=\textwidth]{img/vsc2.png}
      \end{center}
      \caption{\sTeX Setup Routine}\label{fig:setup}
    \end{figure}

  \end{sfragment}

\end{sfragment}

\csname if@infulldoc\endcsname\else
\newpage 
\printbibliography
\end{document}
\fi

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:

%  LocalWords:  stex-docheader infulldoctrue l@subsubsection toclevel@part ExplSyntaxOff
%  LocalWords:  l_document_structure_section_level_int dangerbox mmtbox omdoc OBJref lmh
%  LocalWords:  own:fifom MueRabRot:rslffml20 sec.stexarchives stex-mathhub ngerman a,b
%  LocalWords:  Metatheory sec.customhighlight sproof stexthm xspace stexpatchmodule
%  LocalWords:  stexpatchexample stexpatchparagraph sexampleid amsthm sassertiontitle
%  LocalWords:  sdefinitiontitle compemph varemph srefsymuri stex-hwexam TeXLive:on tlmgr
%  LocalWords:  stexls:on,stexls-vscode-plugin:on
